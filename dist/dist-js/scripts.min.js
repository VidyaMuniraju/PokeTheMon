let pokemonRepository = (function() {
  let e = [],
    t = "https://pokeapi.co/api/v2/pokemon/",
    n = document.querySelector(".load-message");
  function o(e) {
    let t = document.querySelector("#modal-data");
    t.innerText = " ";
    let n = document.querySelector(".modal-title");
    n.innerText = " ";
    let o = document.createElement("h1");
    o.innerText = "Name: " + e.name;
    let i = document.createElement("h3");
    i.innerText = "Height: " + e.height;
    let c = document.createElement("img");
    c.classList.add("img-responsive"),
      (c.src = e.imageUrl),
      n.appendChild(o),
      t.appendChild(i),
      t.appendChild(c);
  }
  function i() {
    n.classList.remove("hidden");
  }
  function c() {
    n.classList.add("hidden");
  }
  return {
    addListItem: function(e) {
      let t = document.querySelector(".pokemon-list"),
        n = document.createElement("li");
      n.classList.add("list-group-item");
      let l = document.createElement("button");
      l.setAttribute("data-toggle", "modal"),
        l.setAttribute("data-target", "#pokemonModal"),
        (l.innerText = e.name),
        l.classList.add("button-class-pokemonName"),
        l.classList.add("btn"),
        l.classList.add("btn-outline-dark"),
        n.appendChild(l),
        t.appendChild(n),
        (function(e, t) {
          e.addEventListener("click", function() {
            !(function(e) {
              (function(e) {
                i();
                let t = e.detailsUrl;
                return fetch(t)
                  .then(function(e) {
                    return e.json();
                  })
                  .then(function(t) {
                    c(),
                      (e.imageUrl = t.sprites.front_default),
                      (e.height = t.height),
                      (e.types = t.types);
                  })
                  .catch(function(e) {
                    console.error(e);
                  });
              })(e).then(function() {
                o(e);
              });
            })(t);
          });
        })(l, e);
    },
    loadList: function() {
      return (
        i(),
        fetch(t)
          .then(function(e) {
            return e.json();
          })
          .then(function(t) {
            t.results.forEach(function(t) {
              !(function(t) {
                "object" == typeof t && e.push(t);
              })({ name: t.name, detailsUrl: t.url }),
                c();
            });
          })
          .catch(function(e) {
            console.error(e);
          })
      );
    },
    showModal: o,
    getAll: function() {
      return e;
    }
  };
})();
pokemonRepository.loadList().then(function() {
  pokemonRepository.getAll().forEach(function(e) {
    pokemonRepository.addListItem(e);
  });
});
